#!/bin/bash

# Gather System Information
HOSTNAME=$(hostname)
OS=$(lsb_release -d | awk -F"\t" '{print $2}')
UPTIME=$(uptime -p)

# Gather Hardware Information
CPU=$(cat /proc/cpuinfo | grep "model name" | uniq | awk -F": " '{print $2}')
CPU_SPEED=$(lscpu | grep "MHz" | awk '{print $3}')
RAM=$(free -h | awk '/Mem/ {print $2}')
DISK=$(df -h | awk '$NF=="/"{printf "Disk: %d/%dGB (%s)\n", $3,$2,$5}')
VIDEO_CARD=$(lspci | grep -i "VGA" | awk -F": " '{print $2}')

# Gather Network Information
FQDN=$(hostname -f)
HOST_ADDRESS=$(hostname -I | awk '{print $1}')
GATEWAY=$(ip route | awk '/default/ {print $3}')
DNS=$(cat /etc/resolv.conf | grep "nameserver" | awk '{print $2}')
INTERFACE=$(ip -o -4 route show to default | awk '{print $5}')
IP_ADDRESS=$(ip a show $INTERFACE | awk '/inet / {print $2}')

# Gather System Status
USERS=$(who | awk '{print $1}' | sort | uniq | tr '\n' ',' | sed 's/,$//')
DISK_SPACE=$(df -h | awk '/^\/dev/ {print $6" "$4}')
PROCESS_COUNT=$(ps aux | wc -l)
LOAD_AVERAGES=$(uptime | awk -F'average: ' '{ print $2 }')

# Generate Report
echo ""
echo "System Report generated by $(whoami), $(date)"
echo ""
echo "System Information"
echo "------------------"
echo "Hostname: $HOSTNAME"
echo "OS: $OS"
echo "Uptime: $UPTIME"
echo ""
echo "Hardware Information"
echo "--------------------"
echo "CPU: $CPU"
echo "Speed: $CPU_SPEED MHz"
echo "RAM: $RAM"
echo "$DISK"
echo "Video: $VIDEO_CARD"
echo ""
echo "Network Information"
echo "-------------------"
echo "FQDN: $FQDN"
echo "Host Address: $HOST_ADDRESS"
echo "Gateway IP: $GATEWAY"
echo "DNS Server: $DNS"
echo ""
echo "InterfaceName: $INTERFACE"
echo "IP Address: $IP_ADDRESS"
echo ""
echo "System Status"
echo "-------------"
echo "Users Logged In: ${USERS%,}"
echo "Disk Space: $DISK_SPACE"
echo "Process Count: $PROCESS_COUNT"
echo "Load Averages: $LOAD_AVERAGES"
echo ""

# End of Report
